<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>[Linux] centos7.4--yum install gcc报错</title>
      <link href="/2018/08/02/centos7.4yum%E5%AE%89%E8%A3%85gcc%E6%8A%A5%E9%94%99/"/>
      <url>/2018/08/02/centos7.4yum%E5%AE%89%E8%A3%85gcc%E6%8A%A5%E9%94%99/</url>
      <content type="html"><![CDATA[<h3 id="yum-install-gcc执行报错如下："><a href="#yum-install-gcc执行报错如下：" class="headerlink" title="[yum install gcc执行报错如下：]"></a>[yum install gcc执行报错如下：]</h3><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">Loaded</span> <span class="attr">plugins:</span> <span class="string">fastestmirror,</span> <span class="string">langpacks</span></span><br><span class="line"><span class="string">Loading</span> <span class="string">mirror</span> <span class="string">speeds</span> <span class="string">from</span> <span class="string">cached</span> <span class="string">hostfile</span></span><br><span class="line"><span class="string">Resolving</span> <span class="string">Dependencies</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">-&gt;</span> <span class="string">Running</span> <span class="string">transaction</span> <span class="string">check</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">--&gt;</span> <span class="string">Package</span> <span class="string">gcc.x86_64</span> <span class="number">0</span><span class="string">:4.8.5-28.el7_5.1</span> <span class="string">will</span> <span class="string">be</span> <span class="string">installed</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">-&gt;</span> <span class="string">Processing</span> <span class="attr">Dependency:</span> <span class="string">libgomp</span> <span class="string">=</span> <span class="number">4.8</span><span class="number">.5</span><span class="bullet">-28.</span><span class="string">el7_5.1</span> <span class="string">for</span> <span class="attr">package:</span> <span class="string">gcc-4.8.5-28.el7_5.1.x86_64</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">-&gt;</span> <span class="string">Processing</span> <span class="attr">Dependency:</span> <span class="string">cpp</span> <span class="string">=</span> <span class="number">4.8</span><span class="number">.5</span><span class="bullet">-28.</span><span class="string">el7_5.1</span> <span class="string">for</span> <span class="attr">package:</span> <span class="string">gcc-4.8.5-28.el7_5.1.x86_64</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">-&gt;</span> <span class="string">Processing</span> <span class="attr">Dependency:</span> <span class="string">glibc-devel</span> <span class="string">&gt;=</span> <span class="number">2.2</span><span class="number">.90</span><span class="bullet">-12</span> <span class="string">for</span> <span class="attr">package:</span> <span class="string">gcc-4.8.5-28.el7_5.1.x86_64</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">-&gt;</span> <span class="string">Processing</span> <span class="attr">Dependency:</span> <span class="string">libmpfr.so.4()(64bit)</span> <span class="string">for</span> <span class="attr">package:</span> <span class="string">gcc-4.8.5-28.el7_5.1.x86_64</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">-&gt;</span> <span class="string">Processing</span> <span class="attr">Dependency:</span> <span class="string">libmpc.so.3()(64bit)</span> <span class="string">for</span> <span class="attr">package:</span> <span class="string">gcc-4.8.5-28.el7_5.1.x86_64</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">-&gt;</span> <span class="string">Running</span> <span class="string">transaction</span> <span class="string">check</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">--&gt;</span> <span class="string">Package</span> <span class="string">cpp.x86_64</span> <span class="number">0</span><span class="string">:4.8.5-28.el7_5.1</span> <span class="string">will</span> <span class="string">be</span> <span class="string">installed</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">--&gt;</span> <span class="string">Package</span> <span class="string">glibc-devel.x86_64</span> <span class="number">0</span><span class="string">:2.17-222.el7</span> <span class="string">will</span> <span class="string">be</span> <span class="string">installed</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">-&gt;</span> <span class="string">Processing</span> <span class="attr">Dependency:</span> <span class="string">glibc-headers</span> <span class="string">=</span> <span class="number">2.17</span><span class="bullet">-222.</span><span class="string">el7</span> <span class="string">for</span> <span class="attr">package:</span> <span class="string">glibc-devel-2.17-222.el7.x86_64</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">-&gt;</span> <span class="string">Processing</span> <span class="attr">Dependency:</span> <span class="string">glibc</span> <span class="string">=</span> <span class="number">2.17</span><span class="bullet">-222.</span><span class="string">el7</span> <span class="string">for</span> <span class="attr">package:</span> <span class="string">glibc-devel-2.17-222.el7.x86_64</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">-&gt;</span> <span class="string">Processing</span> <span class="attr">Dependency:</span> <span class="string">glibc-headers</span> <span class="string">for</span> <span class="attr">package:</span> <span class="string">glibc-devel-2.17-222.el7.x86_64</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">--&gt;</span> <span class="string">Package</span> <span class="string">libgomp.x86_64</span> <span class="number">0</span><span class="string">:4.8.5-11.el7</span> <span class="string">will</span> <span class="string">be</span> <span class="string">updated</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">--&gt;</span> <span class="string">Package</span> <span class="string">libgomp.x86_64</span> <span class="number">0</span><span class="string">:4.8.5-28.el7_5.1</span> <span class="string">will</span> <span class="string">be</span> <span class="string">an</span> <span class="string">update</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">--&gt;</span> <span class="string">Package</span> <span class="string">libmpc.x86_64</span> <span class="number">0</span><span class="string">:1.0.1-3.el7</span> <span class="string">will</span> <span class="string">be</span> <span class="string">installed</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">--&gt;</span> <span class="string">Package</span> <span class="string">mpfr.x86_64</span> <span class="number">0</span><span class="string">:3.1.1-4.el7</span> <span class="string">will</span> <span class="string">be</span> <span class="string">installed</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">-&gt;</span> <span class="string">Running</span> <span class="string">transaction</span> <span class="string">check</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">--&gt;</span> <span class="string">Package</span> <span class="string">glibc.x86_64</span> <span class="number">0</span><span class="string">:2.17-157.el7_3.5</span> <span class="string">will</span> <span class="string">be</span> <span class="string">updated</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">-&gt;</span> <span class="string">Processing</span> <span class="attr">Dependency:</span> <span class="string">glibc</span> <span class="string">=</span> <span class="number">2.17</span><span class="bullet">-157.</span><span class="string">el7_3.5</span> <span class="string">for</span> <span class="attr">package:</span> <span class="string">glibc-common-2.17-157.el7_3.5.x86_64</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">--&gt;</span> <span class="string">Package</span> <span class="string">glibc.x86_64</span> <span class="number">0</span><span class="string">:2.17-222.el7</span> <span class="string">will</span> <span class="string">be</span> <span class="string">an</span> <span class="string">update</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">--&gt;</span> <span class="string">Package</span> <span class="string">glibc-headers.x86_64</span> <span class="number">0</span><span class="string">:2.17-222.el7</span> <span class="string">will</span> <span class="string">be</span> <span class="string">installed</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">-&gt;</span> <span class="string">Processing</span> <span class="attr">Dependency:</span> <span class="string">kernel-headers</span> <span class="string">&gt;=</span> <span class="number">2.2</span><span class="number">.1</span> <span class="string">for</span> <span class="attr">package:</span> <span class="string">glibc-headers-2.17-222.el7.x86_64</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">-&gt;</span> <span class="string">Processing</span> <span class="attr">Dependency:</span> <span class="string">kernel-headers</span> <span class="string">for</span> <span class="attr">package:</span> <span class="string">glibc-headers-2.17-222.el7.x86_64</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">-&gt;</span> <span class="string">Running</span> <span class="string">transaction</span> <span class="string">check</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">--&gt;</span> <span class="string">Package</span> <span class="string">glibc.x86_64</span> <span class="number">0</span><span class="string">:2.17-157.el7_3.5</span> <span class="string">will</span> <span class="string">be</span> <span class="string">updated</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">-&gt;</span> <span class="string">Processing</span> <span class="attr">Dependency:</span> <span class="string">glibc</span> <span class="string">=</span> <span class="number">2.17</span><span class="bullet">-157.</span><span class="string">el7_3.5</span> <span class="string">for</span> <span class="attr">package:</span> <span class="string">glibc-common-2.17-157.el7_3.5.x86_64</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">--&gt;</span> <span class="string">Package</span> <span class="string">kernel-headers.x86_64</span> <span class="number">0</span><span class="string">:3.10.0-862.9.1.el7</span> <span class="string">will</span> <span class="string">be</span> <span class="string">installed</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">-&gt;</span> <span class="string">Finished</span> <span class="string">Dependency</span> <span class="string">Resolution</span></span><br><span class="line"><span class="attr">Error:</span> <span class="attr">Package:</span> <span class="string">glibc-common-2.17-157.el7_3.5.x86_64</span> <span class="string">(@CentOS-Updates)</span></span><br><span class="line"><span class="attr">           Requires:</span> <span class="string">glibc</span> <span class="string">=</span> <span class="number">2.17</span><span class="bullet">-157.</span><span class="string">el7_3.5</span></span><br><span class="line"><span class="attr">           Removing:</span> <span class="string">glibc-2.17-157.el7_3.5.x86_64</span> <span class="string">(@CentOS-Updates)</span></span><br><span class="line">               <span class="string">glibc</span> <span class="string">=</span> <span class="number">2.17</span><span class="bullet">-157.</span><span class="string">el7_3.5</span></span><br><span class="line">           <span class="string">Updated</span> <span class="attr">By:</span> <span class="string">glibc-2.17-222.el7.x86_64</span> <span class="string">(base)</span></span><br><span class="line">               <span class="string">glibc</span> <span class="string">=</span> <span class="number">2.17</span><span class="bullet">-222.</span><span class="string">el7</span></span><br><span class="line"> <span class="string">You</span> <span class="string">could</span> <span class="string">try</span> <span class="string">using</span> <span class="bullet">--skip-broken</span> <span class="string">to</span> <span class="string">work</span> <span class="string">around</span> <span class="string">the</span> <span class="string">problem</span></span><br><span class="line"><span class="string">**</span> <span class="string">Found</span> <span class="number">3</span> <span class="string">pre-existing</span> <span class="string">rpmdb</span> <span class="string">problem(s),</span> <span class="string">'yum check'</span> <span class="string">output</span> <span class="attr">follows:</span></span><br><span class="line"><span class="string">glibc-common-2.17-222.el7.x86_64</span> <span class="string">is</span> <span class="string">a</span> <span class="string">duplicate</span> <span class="string">with</span> <span class="string">glibc-common-2.17-157.el7_3.5.x86_64</span></span><br><span class="line"><span class="string">glibc-common-2.17-222.el7.x86_64</span> <span class="string">has</span> <span class="string">missing</span> <span class="string">requires</span> <span class="string">of</span> <span class="string">glibc</span> <span class="string">=</span> <span class="string">('0',</span> <span class="string">'2.17'</span><span class="string">,</span> <span class="string">'222.el7'</span><span class="string">)</span></span><br><span class="line"><span class="string">libgcc-4.8.5-28.el7_5.1.x86_64</span> <span class="string">is</span> <span class="string">a</span> <span class="string">duplicate</span> <span class="string">with</span> <span class="string">libgcc-4.8.5-11.el7.x86_64</span></span><br></pre></td></tr></table></figure><p>产生该问题的主要原因是：在系统upgrade的时候，残存了上一个版本的软件包</p><h3 id="解决办法："><a href="#解决办法：" class="headerlink" title="[解决办法：]"></a>[解决办法：]</h3><p>首先安装 yum-utils 套件<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install yum-utils</span><br></pre></td></tr></table></figure></p><p>执行clean duplicate package　　<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">package-cleanup --cleandupes</span><br></pre></td></tr></table></figure></p><p>重新安装glibc<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum reinstall glibc glibc-common libgcc</span><br></pre></td></tr></table></figure></p><p>安装完成之后再安装gcc<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install gcc</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
  
  
</search>
